@model Personel
@{
    ViewData["Title"] = "Personel";

}

<div class="bg-info text-white">
    <h1 class="text-dark">Personel Info</h1>
</div>
<div class="row">
    <div class="col-6">
        <div>
            <label>Name: </label>
            <input type="text" id="txtName" placeholder="Name..." required />
        </div>
        <div>
            <label>Number: </label>
            <input type="text" id="txtNumber" placeholder="Number..." required />
        </div>
        <div>
            <label>Section: </label>
            <input type="text" id="txtSection" placeholder="Section..." required />
        </div>
        <div>
            <input type="submit" id="btnPersonel" value="Add Personel" class="btn btn-success" />
        </div>
    </div>
</div>
    
<script>
    $(document).ready(function(){
        $("#btnPersonel").click(function () {
            const personel = {
                Name: $("#txtName").val(),
                Number: $("#txtNumber").val(),
                Section: $("#txtSection").val()
            }
            
            $.ajax({
                type: "POST",
                url: "@Url.Action("Personel")",
                data: personel,
                dataType:"json",
                success: function (data) {
                    const jsonData = JSON.stringify(data);
                    console.log(jsonData);
                    console.log(data);
                    alert("Personel Added");
                    window.location.href = "PersonelDetail?name=" + personel.Name + "&number=" + personel.Number + "&section=" + personel.Section;
                },
                error: function (data) {
                    console.log(data);
                }
            })
        })
    });
</script>